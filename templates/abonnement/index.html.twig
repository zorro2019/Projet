{% extends 'base.html.twig' %}

{% block title 'Abonnement' %}

{% block slider '' %}
{% block stylesheets %}
    <script src="https://www.paypalobjects.com/api/checkout.js"></script>
{% endblock %}
{% block body %}
    <div id="all">
        <!-- Top bar-->
        <div class="top-bar">
            <div class="container">
                <div class="row d-flex align-items-center">
                    <div class="col-md-6 d-md-block d-none">
                        <p>Contacts&nbsp;<a class="text-white" href="tel:#">+221778213119</a> ou <a class="text-white" href="mailto:#">contact.fret-Online@gmail.com</a>.</p>
                    </div>
                    <div class="col-md-6">
                        <div class="d-flex justify-content-md-end justify-content-between">
                            <ul class="list-inline contact-info d-block d-md-none">
                                <li class="list-inline-item"><a href="tel:#"><i class="fa fa-phone"></i></a></li>
                                <li class="list-inline-item"><a href="mailto:#"><i class="fa fa-envelope"></i></a></li>
                            </ul>
                            <div class="login">
                                {% if app.user == false %}
                                    <a href="{{ path('login') }}" class="login-btn"><i class="fa fa-sign-in"></i><span class="d-none d-md-inline-block">Se connecter</span></a>
                                {% endif %}
                                {% if app.user == false %}
                                    <a href="{{ path('create_compte') }}" class="signup-btn"><i class="fa fa-user"></i><span class="d-none d-md-inline-block">Créer un compte</span></a>
                                {% endif %}
                                {% if app.user  %}
                                    <a href="{{ path('user_espace') }}" class="login-btn"><i class="fa fa-user"></i><span class="d-none d-md-inline-block">Mon espace</span></a>
                                {% endif %}
                                {% if app.user %}
                                    <a href="{{ path('logout') }}" class="login-btn"><i class="fa fa-sign-out-alt"></i><span class="d-none d-md-inline-block">Se deconnecter</span></a>
                                {% endif %}
                            </div>
                            <ul class="social-custom list-inline">
                                <li class="list-inline-item"><a href="#"><i class="fa fa-facebook"></i></a></li>
                                <li class="list-inline-item"><a href="#"><i class="fa fa-google-plus"></i></a></li>
                                <li class="list-inline-item"><a href="#"><i class="fa fa-twitter"></i></a></li>
                                <li class="list-inline-item"><a href="#"><i class="fa fa-envelope"></i></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Top bar end-->
        <!-- Navbar Start-->
        <header class="nav-holder make-sticky">
            <div id="navbar" role="navigation" class="navbar navbar-expand-lg">
                <div class="container"><a href="{{ path('home') }}" class="navbar-brand home">
                        <h2 class="d-none d-md-inline-block"><br>Frêt Online</h2>
                    </a>
                    <button type="button" data-toggle="collapse" data-target="#navigation" class="navbar-toggler btn-template-outlined"><span class="sr-only">Toggle navigation</span><i class="fa fa-align-justify"></i></button>
                    <div id="navigation" class="navbar-collapse collapse">
                        <ul class="nav navbar-nav ml-auto">
                            <li class="nav-item nav_link nav_link_active">
                                <a class="nav-link active lnk" href="{{ path('home') }}">Home<span class="sr-only">(current)</span></a>
                            </li>
                            <li class="nav-item nav_link">
                                <a class="nav-link lnk" href="{{ path('fret.direct') }}">Fret en direct</a>
                            </li>
                            <li class="nav-item nav_link">
                                <a class="nav-link lnk" href="{{ path('alert.fret') }}">Alert fret</a>
                            </li>
                            <li class="nav-item nav_link">
                                <a class="nav-link lnk" href="{{ path('faq') }}">Comment ça marche ?</a>
                            </li>
                            <li class="nav-item nav_link">
                                <a class="nav-link lnk" href="{{ path('contact') }}">Contact</a>
                            </li>
                            <!-- ========== Contact dropdown end ==================-->
                        </ul>
                    </div>
                    <div id="search" class="collapse clearfix">
                        <form role="search" class="navbar-form">
                            <div class="input-group">
                                <input type="text" placeholder="Search" class="form-control"><span class="input-group-btn">
                    <button type="submit" class="btn btn-template-main"><i class="fa fa-search"></i></button></span>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </header>
        <!-- Navbar End-->
        <div id="heading-breadcrumbs">
            <div class="container">
                <div class="row d-flex align-items-center flex-wrap">
                    <div class="col-md-7">
                        <h1 class="font-weight-bold text-primary"><i class="fa fa-angle-right">&nbsp; Abonnement</i></h1>
                    </div>
                    <div class="col-md-5">
                        <ul class="breadcrumb d-flex justify-content-end">
                            <li class="breadcrumb-item"><a href="{{ path('home') }}">Home</a></li>
                            <li class="breadcrumb-item active">S'abonner</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container" style="margin-top: 40px; margin-bottom: 80px;">
            {% for message in app.flashes('danger') %}
                <div class="alert alert-danger alert-dismissible fade show text-center" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <p>
                        <strong>Ooops!</strong> vous avez atteint le nombre maximum de vehicule gratuit <a href="#" class="alert-link">Abonnez vous pour enregister d'autre vehicule.</a>
                    </p>
                </div>
            {% endfor %}
            {% if errors != null %}
                <div class="alert alert-danger alert-dismissible fade show text-center" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <p>
                        <strong>Ooops!</strong> Vous avez mal fait les choix.
                    </p>
                </div>
            {% endif %}
        </div>
        <div class="container" style="margin-top: 40px;margin-bottom: 80px;">
            <div class="heading mb-4">
                <h3>Choisir votre abonnement</h3>
            </div>
            <div class="col-md-12 mb-5">
                <div class="alert alert-info text-center mb-5">
                    <p class="text-bold">Les valeurs negatives seront pas pris en compte lors du traitement.</p>
                </div>
                <form action="{{ path('abonnement') }}" method="post">
                <div class="row">
                    <div class="card col-md-4">
                        <div class="heading">
                            <h4>Mensuel</h4>
                        </div>
                        <p><span class="font-weight-bold">5 000 fcfa</span>/Camion&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            <a class="text-decoration-none" href="{{ path('faq') }}">voir detail</a>
                        </p>
                        <div class="pull-left"><label for="">Nombre : </label></div>
                        <div class="pull-right mb-3">
                            <div class="float-left"><input type="number" name="mois" class="form-control"></div>
                        </div>
                    </div>
                    <div class="card col-md-4">
                        <div class="heading">
                            <h4>Semestruel</h4>
                        </div>
                        <p>Prix : <span class="font-weight-bold">20 000 fcfa</span>/Camion&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            <a class="text-decoration-none" href="{{ path('faq') }}">voir detail</a></p>
                        <div class="pull-left"><label for="">Nombre : </label></div>
                        <div class="pull-right mb-3">
                            <div class="float-left"><input type="number" name="semestre" class="form-control"></div>
                        </div>
                    </div>
                    <div class="card col-md-4">
                        <div class="heading">
                            <h4>Annuel</h4>
                        </div>
                        <p>Prix : <span class="font-weight-bold">50 000 fcfa</span>/Camion&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            <a class="text-decoration-none" href="{{ path('faq') }}">voir detail</a>
                        </p>
                        <div class="pull-left"><label for="">Nombre : </label></div>
                        <div class="pull-right mb-3">
                            <div class="float-left"><input type="number" name="an" class="form-control"></div>
                        </div>
                    </div>
                </div>
                <div class="pull-right mb-3">
                    <!--<div type="sumit" name="valider" id="paypal-button"></div>-->
                    <button type="submit" class="btn btn-primary"  name="valider">Valider</button>
                </div>
                </form>
            </div>
        </div>
    </div>
{% endblock %}
{% block javascripts %}
    <script>
        paypal.Button.render({
            env: 'sandbox',
            commit:true,
            payment:function(){
                return paypal.request.post('{{ path('payement.validator') }}').then(function (data) {
                    return data.id;
                })
            },
            onAuthorize:function(data, action){}
        }, '#paypal-button');
    </script>
{% endblock %}